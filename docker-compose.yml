version: '3.8'
services:
  g-retriever:
    image: g-retriever-gpu
    container_name: otavio-g-retriever
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              count: 3
              capabilities: [gpu]
              options:
                all: false
                devices: [1, 3, 5]
    volumes:
      - ./dataset:/workspace/dataset
      - ./output:/workspace/output
    command: tail -f /dev/null
